<a id="readme-top"></a>

<!-- PROJECT SHIELDS -->
<div align="center">

[![Python](https://img.shields.io/badge/Python-3.10-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://python.org)
[![Redis](https://img.shields.io/badge/Redis-7.0-DC382D?style=for-the-badge&logo=redis&logoColor=white)](https://redis.io)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-15-4169E1?style=for-the-badge&logo=postgresql&logoColor=white)](https://postgresql.org)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://docker.com)
[![Prometheus](https://img.shields.io/badge/Prometheus-Monitoring-E6522C?style=for-the-badge&logo=prometheus&logoColor=white)](https://prometheus.io)

</div>

<!-- PROJECT TITLE -->
<div align="center">
  <h1>ğŸ•·ï¸ Distributed Sharded Crawler</h1>
  <p>
    <strong>M2 MacBook 8GBë¡œ Tranco Top 1M í¬ë¡¤ë§í•˜ê¸°</strong>
  </p>
  <p>
    ê´€ì¸¡ ê°€ëŠ¥í•˜ê³ (Observable) Â· í™•ì¥ ê°€ëŠ¥í•˜ë©°(Scalable) Â· ìë™í™”ëœ(Automated) ë¶„ì‚° í¬ë¡¤ë§ ì‹œìŠ¤í…œ
  </p>

  <a href="./crawler-challenge/docs/10k_crawling_report.md">ğŸ“Š ì„±ëŠ¥ ë³´ê³ ì„œ</a>
  Â·
  <a href="./crawler-challenge/docs/TEST_REPORT.md">ğŸ§ª í…ŒìŠ¤íŠ¸ ë³´ê³ ì„œ</a>
  Â·
  <a href="#quick-start">ğŸš€ Quick Start</a>
</div>

---

<!-- TABLE OF CONTENTS -->
<details>
  <summary>ğŸ“‘ Table of Contents</summary>
  <ol>
    <li><a href="#features">Features</a></li>
    <li><a href="#quick-start">Quick Start</a></li>
    <li><a href="#architecture">Architecture</a></li>
    <li><a href="#redis-sharding">Redis Sharding</a></li>
    <li><a href="#monitoring">Monitoring</a></li>
    <li><a href="#cicd">CI/CD</a></li>
    <li><a href="#troubleshooting">Troubleshooting</a></li>
    <li><a href="#project-structure">Project Structure</a></li>
    <li><a href="#roadmap">Roadmap</a></li>
  </ol>
</details>

---

## Features

âœ¨ **ë¶„ì‚° í¬ë¡¤ë§** â€” Master-Worker íŒ¨í„´ìœ¼ë¡œ Worker ìˆ˜ë¥¼ ììœ ë¡­ê²Œ ì¡°ì ˆ

âš¡ **3-Shard Redis Queue** â€” ëœë¤ ìƒ¤ë”©ìœ¼ë¡œ ê· ë“± ë¶€í•˜ ë¶„ë°°

ğŸ“ˆ **ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§** â€” Prometheus + Grafana ê¸°ë°˜ 23ê°œ ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­

ğŸ›¡ï¸ **DLQ ì‹œìŠ¤í…œ** â€” ì—ëŸ¬ ë°ì´í„° ê²©ë¦¬ë¡œ ë¬´í•œ ë¡¤ë°± ë°©ì§€

ğŸ¤– **AI ë¦¬í¬íŠ¸** â€” Gemini API ì—°ë™ ìë™ ì„±ëŠ¥ ë¶„ì„

ğŸ”„ **CI/CD íŒŒì´í”„ë¼ì¸** â€” GitHub Actions 4ê°œ ì›Œí¬í”Œë¡œìš°

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## Quick Start

### 1. ì¸í”„ë¼ ì‹¤í–‰

```bash
docker-compose up -d redis postgres
```

### 2. í¬ë¡¤ë§ ì‹œì‘

```bash
# ì›Œì»¤ ìˆ˜ëŠ” í™˜ê²½ì— ë§ê²Œ ì¡°ì ˆ (8GB RAM â†’ 4 workers ê¶Œì¥)
python runners/sharded_master.py --count 10000 --workers 4
```

### 3. ì›Œì»¤ ìŠ¤ì¼€ì¼ ì¡°ì ˆ

```bash
# CLIì—ì„œ ì§ì ‘ ì¡°ì ˆ
python runners/sharded_master.py --workers 8

# ë˜ëŠ” Docker Composeë¡œ
docker-compose up -d --scale crawler-worker=6
```

> ğŸ“– **ìƒì„¸ ì„¤ì •ì€** [DEPLOY.md](./crawler-challenge/docs/DEPLOY.md) **ì°¸ê³ **

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## Architecture

### ì™œ ë‘ ëŒ€ì˜ ë¨¸ì‹ ì¸ê°€?

8GB MacBookì—ì„œ í¬ë¡¤ëŸ¬ì™€ Prometheus+Grafanaê°€ ë¦¬ì†ŒìŠ¤ ê²½ìŸì„ ë²Œì´ëŠ” ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. **í¬ë¡¤ë§**ê³¼ **ê´€ì¸¡**ì„ ë¶„ë¦¬í•´ì„œ ê°ìì˜ ì—­í• ì— ì§‘ì¤‘í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          Tailscale Mesh VPN                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                                    â”‚
         â–¼                                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      MacBook M2 (Crawler Host)         â”‚    â”‚   Desktop (Observer Host)      â”‚
â”‚                                        â”‚    â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚         Sharded Master           â”‚  â”‚    â”‚  â”‚      Prometheus          â”‚  â”‚
â”‚  â”‚         + Tranco URL ë¡œë“œ        â”‚â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â–ºâ”‚      + 15s ìŠ¤í¬ë©         â”‚  â”‚
â”‚  â”‚         + Prometheus Exporter    â”‚  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚               â”‚                â”‚
â”‚                 â”‚                      â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”‚       Grafana            â”‚  â”‚
â”‚  â”‚      Workers (1~N, ë™ì  ì¡°ì ˆ)     â”‚  â”‚    â”‚  â”‚       + 10ê°œ íŒ¨ë„         â”‚  â”‚
â”‚  â”‚      + robots.txt ì¤€ìˆ˜           â”‚  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚                                â”‚
â”‚                 â”‚                      â”‚    â”‚  â€» ìˆœìˆ˜ ê´€ì¸¡ ì „ìš©              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”‚     Redis (3-Shard Queue)        â”‚  â”‚
â”‚  â”‚     + ìš°ì„ ìˆœìœ„ í (4ë‹¨ê³„)         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚        PostgreSQL + DLQ          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                 â”‚                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Postgres Exporter           â”‚â”€â”€â”¼â”€â”€â”€â”€â–º Prometheus
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Master-Worker íŒ¨í„´

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Sharded Master   â”‚
                    â”‚    :8000 (metrics)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼                   â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Shard 0  â”‚        â”‚ Shard 1  â”‚        â”‚ Shard 2  â”‚
    â”‚ (DB 1)   â”‚        â”‚ (DB 2)   â”‚        â”‚ (DB 3)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                   â”‚                   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚   Workers (1 ~ Nê°œ)     â”‚
                 â”‚                         â”‚
                 â”‚   â€» ëª¨ë“  ì›Œì»¤ê°€         â”‚
                 â”‚     ëª¨ë“  ìƒ¤ë“œì— ì ‘ê·¼     â”‚
                 â”‚                         â”‚
                 â”‚   â€» --workers ì˜µì…˜ìœ¼ë¡œ  â”‚
                 â”‚     ë™ì  ì¡°ì ˆ ê°€ëŠ¥       â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## Redis Sharding

### ëœë¤ ìƒ¤ë”© ì „ëµ

ì´ˆê¸°ì—ëŠ” **ë„ë©”ì¸ í•´ì‹œ ê¸°ë°˜**ìœ¼ë¡œ ìƒ¤ë”©í–ˆì§€ë§Œ, Hot Shard ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

| ë¬¸ì œ | ì›ì¸ | í•´ê²° |
|------|------|------|
| Hot Shard | ì¸ê¸° ë„ë©”ì¸ ì§‘ì¤‘ | ëœë¤ ë¶„ë°°ë¡œ ì „í™˜ |
| ì›Œì»¤ í¸ì¤‘ | 4ì›Œì»¤ + 3ìƒ¤ë“œ = ë¶ˆê· í˜• | ëœë¤ ìƒ¤ë“œ íƒìƒ‰ |

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ê° ìƒ¤ë“œ ë‚´ë¶€ êµ¬ì¡°                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Priority Queues (Sorted Set)                                       â”‚
â”‚  â”œâ”€ priority_high   : Top 100 ì‚¬ì´íŠ¸     (score 900+)               â”‚
â”‚  â”œâ”€ priority_medium : Top 1000 ì‚¬ì´íŠ¸    (score 800+)               â”‚
â”‚  â”œâ”€ priority_normal : Top 10000 ì‚¬ì´íŠ¸   (score 700+)               â”‚
â”‚  â””â”€ priority_low    : ë‚˜ë¨¸ì§€              (score 700-)               â”‚
â”‚                                                                      â”‚
â”‚  State Management (Set)                                              â”‚
â”‚  â”œâ”€ processing : í˜„ì¬ ì²˜ë¦¬ ì¤‘                                        â”‚
â”‚  â”œâ”€ completed  : ì™„ë£Œ (í•´ì‹œ)                                         â”‚
â”‚  â”œâ”€ failed     : ì‹¤íŒ¨ + ì—ëŸ¬ ì •ë³´                                    â”‚
â”‚  â””â”€ retry      : ì¬ì‹œë„ ëŒ€ê¸°                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## Monitoring

### ë©”íŠ¸ë¦­ ìˆ˜ì§‘ êµ¬ì¡°

| ì¹´í…Œê³ ë¦¬ | ë©”íŠ¸ë¦­ ì˜ˆì‹œ |
|----------|-------------|
| í¬ë¡¤ëŸ¬ ì‘ì—… | `tasks_completed`, `tasks_failed`, `error_details` |
| í ìƒíƒœ | `queue_pending`, `queue_processing`, `shard_pending` |
| ì§€ì—° ì‹œê°„ | `latency_avg`, `latency_p95`, `latency_p99` |
| PostgreSQL | `throughput_pps`, `total_pages`, `unique_domains` |
| DLQ | `dlq_total`, `dlq_errors` |

### Grafana ëŒ€ì‹œë³´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Running     â”‚ Total CPU   â”‚ Total       â”‚ Redis Queue     â”‚
â”‚ Workers     â”‚ Usage       â”‚ Memory      â”‚ Length          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Queue by Priority              â”‚ Processing Rate          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CPU per Worker    â”‚ Memory per Worker â”‚ Error Rate        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ğŸ“– **ìƒì„¸ ì„¤ì •ì€** [MONITORING.md](./crawler-challenge/docs/MONITORING.md) **ì°¸ê³ **

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## CI/CD

```
Code Push â”€â”€â–º CI Test â”€â”€â–º Docker Build â”€â”€â–º Registry
                â”‚              â”‚
                â–¼              â–¼
            Lint/Test      ghcr.io
            Security       Trivy Scan
```

| Workflow | íŠ¸ë¦¬ê±° | ë™ì‘ |
|----------|--------|------|
| `ci.yml` | ëª¨ë“  push/PR | Flake8, Radon, Bandit |
| `docker-build.yml` | main ë¨¸ì§€, íƒœê·¸ | Multi-stage ë¹Œë“œ, ghcr.io í‘¸ì‹œ |
| `pr-automation.yml` | PR ìƒì„± | Conventional Commits ê²€ì¦, ë¼ë²¨ë§ |
| `release.yml` | ë²„ì „ íƒœê·¸ | GitHub Release, Changelog |

> ğŸ“– **ìƒì„¸ ì„¤ì •ì€** [CI_CD.md](./crawler-challenge/docs/CI_CD.md) **ì°¸ê³ **

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## Troubleshooting

ì‹¤ì œ ê°œë°œ ê³¼ì •ì—ì„œ ë§ˆì£¼ì¹œ ë¬¸ì œë“¤ê³¼ í•´ê²° ë°©ë²•ì…ë‹ˆë‹¤.

| ë¬¸ì œ | ì›ì¸ | í•´ê²° |
|------|------|------|
| **8GB ë©”ëª¨ë¦¬ ë¶€ì¡±** | í¬ë¡¤ëŸ¬ + ëª¨ë‹ˆí„°ë§ ë¦¬ì†ŒìŠ¤ ê²½ìŸ | ë¨¸ì‹  ë¶„ë¦¬ (í¬ë¡¤ë§/ê´€ì¸¡) |
| **ë„¤íŠ¸ì›Œí¬ ë¶„ë¦¬** | ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¶ˆê°€ | Tailscale VPN ë„ì… |
| **Hot Shard** | ë„ë©”ì¸ í•´ì‹œ ê¸°ë°˜ ë¶€í•˜ ì§‘ì¤‘ | ëœë¤ ìƒ¤ë”©ìœ¼ë¡œ ì „ëµ ë³€ê²½ |
| **ì›Œì»¤ í¸ì¤‘** | 4ì›Œì»¤ + 3ìƒ¤ë“œ ë¶ˆê· í˜• | ëœë¤ ìƒ¤ë“œ íƒìƒ‰ |
| **ì„±ê³µë¥  0%** | robots.txt ë¡œì§ ì˜¤ë¥˜ | ê²½ë¡œë³„ ê°œë³„ íŒë‹¨ìœ¼ë¡œ ìˆ˜ì • |
| **DB ë³‘ëª© ë¯¸ê°ì§€** | PostgreSQL ë©”íŠ¸ë¦­ ë¯¸ìˆ˜ì§‘ | postgres-exporter ì¶”ê°€ |
| **ë¬´í•œ ë¡¤ë°±** | NUL ë°”ì´íŠ¸ ë°ì´í„° | DLQ ì‹œìŠ¤í…œìœ¼ë¡œ ì—ëŸ¬ ê²©ë¦¬ |
| **ìŠ¤í‚¤ë§ˆ ë¶ˆì¼ì¹˜** | ì½”ë“œâ†”SQL í…Œì´ë¸”ëª… ë‹¤ë¦„ | init.sql ìˆ˜ì • + ë³¼ë¥¨ ì´ˆê¸°í™” |
| **ì›Œì»¤ í™•ì¥ ì–´ë ¤ì›€** | ê³ ì • ì›Œì»¤ ìˆ˜ | `--workers` ë™ì  ì¡°ì ˆ |
| **ìƒ¤ë“œ ì¶”ê°€ ì–´ë ¤ì›€** | í•˜ë“œì½”ë”© ì„¤ì • | ì„¤ì • íŒŒì¼ ê¸°ë°˜ êµ¬ì„± |

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## Project Structure

```
crawler-challenge/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ polite_crawler.py         # í¬ë¡¤ë§ ë¡œì§, robots.txt
â”‚   â”‚   â””â”€â”€ database.py               # PostgreSQL, DLQ
â”‚   â”œâ”€â”€ managers/
â”‚   â”‚   â”œâ”€â”€ sharded_queue_manager.py  # Redis 3-shard (ëœë¤)
â”‚   â”‚   â”œâ”€â”€ tranco_manager.py         # URL ìš°ì„ ìˆœìœ„
â”‚   â”‚   â””â”€â”€ progress_tracker.py       # ì§„í–‰ ìƒí™©
â”‚   â””â”€â”€ monitoring/
â”‚       â””â”€â”€ metrics.py                # Prometheus ë©”íŠ¸ë¦­
â”œâ”€â”€ runners/
â”‚   â”œâ”€â”€ sharded_master.py             # ë§ˆìŠ¤í„°
â”‚   â””â”€â”€ sharded_worker.py             # ì›Œì»¤ (ë™ì  í™•ì¥)
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ generate_ai_report.py         # Gemini ë¦¬í¬íŠ¸
â”‚   â””â”€â”€ analyze_failures.py           # ì‹¤íŒ¨ ë¶„ì„
â”œâ”€â”€ .github/workflows/                # CI/CD
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile                    # Multi-stage
â”‚   â”œâ”€â”€ init.sql                      # ìŠ¤í‚¤ë§ˆ + DLQ
â”‚   â””â”€â”€ queries.yaml                  # postgres-exporter
â”œâ”€â”€ monitoring/
â”‚   â”œâ”€â”€ docker-compose.yml            # Prometheus + Grafana
â”‚   â””â”€â”€ prometheus.yml                # ìŠ¤í¬ë© ì„¤ì •
â””â”€â”€ docs/
    â”œâ”€â”€ 10k_crawling_report.md
    â””â”€â”€ reports/                      # AI ë¦¬í¬íŠ¸
```

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## Roadmap

- [ ] **ì„±ê³µë¥  80%+** â€” ì‹¤íŒ¨ URL ì¬ì‹œë„ ë¡œì§ ê°œì„ 
- [ ] **100ë§Œ URL ì™„ì£¼** â€” ì¥ê¸° ì•ˆì •ì„± ê²€ì¦
- [ ] **DB íŠœë‹** â€” COPY ëª…ë ¹ì–´ ëŒ€ëŸ‰ INSERT
- [ ] **ìƒ¤ë“œ ë™ì  í™•ì¥** â€” ëŸ°íƒ€ì„ ìƒ¤ë“œ ì¶”ê°€/ì œê±°

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

## Built With

| ì˜ì—­ | ê¸°ìˆ  |
|------|------|
| Language | Python 3.10 (asyncio, aiohttp) |
| Queue | Redis 7 (3-shard) |
| Database | PostgreSQL 15 |
| Container | Docker, Docker Compose |
| Monitoring | Prometheus, Grafana, postgres-exporter |
| Network | Tailscale (Mesh VPN) |
| CI/CD | GitHub Actions |
| AI | Google Gemini 2.5 Flash |

<p align="right">(<a href="#readme-top">back to top</a>)</p>

---

<div align="center">
  <sub>ë¹„ì‹¼ ì¥ë¹„ ì—†ì´ë„ ê½¤ ë§ì€ ê±¸ í•  ìˆ˜ ìˆë‹¤ëŠ” ê±¸ ë³´ì—¬ì£¼ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.</sub>
  <br>
  <sub>ì œí•œëœ í™˜ê²½ì—ì„œ ë³‘ëª©ì„ ì°¾ê³  í•´ê²°í•˜ëŠ” ê³¼ì •ì´ ì˜¤íˆë ¤ ë” ë§ì€ ê±¸ ë°°ìš°ê²Œ í•´ì¤€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.</sub>
</div>